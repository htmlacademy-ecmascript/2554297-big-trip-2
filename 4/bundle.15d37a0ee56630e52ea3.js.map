{"version":3,"file":"bundle.15d37a0ee56630e52ea3.js","mappings":"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","sources":["webpack://big-trip/./src/render.js","webpack://big-trip/./src/utils.js","webpack://big-trip/./src/view/edit-form-view.js","webpack://big-trip/./src/view/filters-view.js","webpack://big-trip/./src/view/route-point-view.js","webpack://big-trip/./src/view/route-point-list-view.js","webpack://big-trip/./src/view/sorting-view.js","webpack://big-trip/./src/mock/event-mock.js","webpack://big-trip/./src/mock/destination-mock.js","webpack://big-trip/./src/mock/offers-mock.js","webpack://big-trip/./src/main.js","webpack://big-trip/./src/model/event-model.js","webpack://big-trip/./src/model/destination-model.js","webpack://big-trip/./src/model/offers-model.js","webpack://big-trip/./src/presenter/presenter.js"],"sourcesContent":["const RenderPosition = {\n  BEFOREBEGIN: 'beforebegin',\n  AFTERBEGIN: 'afterbegin',\n  BEFOREEND: 'beforeend',\n  AFTEREND: 'afterend',\n};\n\nfunction createElement(template) {\n  const newElement = document.createElement('div');\n  newElement.innerHTML = template;\n\n  return newElement.firstElementChild;\n}\n\nfunction render(component, container, place = RenderPosition.BEFOREEND) {\n  container.insertAdjacentElement(place, component.getElement());\n}\n\nexport {RenderPosition, createElement, render};\n","export function getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport function formatDate(isoDate){\n  const date = new Date(isoDate);\n  const day = date.getUTCDate();\n  const month = (date.getUTCMonth() + 1).toString().padStart(2, '0');\n  const year = date.getUTCFullYear().toString().slice(-2);\n  const hours = date.getUTCHours().toString().padStart(2, '0');\n  const minutes = date.getUTCMinutes().toString().padStart(2, '0');\n  return `${day}/${month}/${year} ${hours}:${minutes}`;\n}\n","import { createElement } from '../render.js';\nimport { formatDate } from '../utils.js';\n\nexport default class EditFormView {\n  constructor(event, destinationModel, offerModel) {\n    this.event = event;\n    this.destinationModel = destinationModel;\n    this.offerModel = offerModel;\n  }\n\n  getTemplate() {\n    return createFormTemplate(this.event, this.destinationModel, this.offerModel);\n  }\n\n  getElement() {\n    if (!this.element) {\n      this.element = createElement(this.getTemplate());\n    }\n    return this.element;\n  }\n\n  removeElement() {\n    this.element = null;\n  }\n}\n\nfunction createFormTemplate(event, destinationModel, offerModel) {\n  const { basePrice, dateFrom, dateTo, destination, type, offers: selectedOfferIds = [] } = event;\n\n  const pointTypeIsChecked = (pointType) => (pointType === type ? 'checked' : '');\n  const destinationData = destinationModel.getDestinationById(destination);\n  const startDate = dateFrom ? formatDate(dateFrom) : '';\n  const endDate = dateTo ? formatDate(dateTo) : '';\n  const destinationName = destinationData.name || '';\n  const destinationDescription = destinationData.description || '';\n  const availableOffers = offerModel.getOffersByType(type);\n  const offersTemplate = availableOffers\n    .map((offer) => {\n      const checked = selectedOfferIds.includes(offer.id) ? 'checked' : '';\n      const offerName = offer.title.toLowerCase().split(' ').join('-');\n      return `\n        <div class=\"event__offer-selector\">\n          <input class=\"event__offer-checkbox visually-hidden\"\n                 id=\"event-offer-${offerName}-${offer.id}\"\n                 type=\"checkbox\"\n                 name=\"event-offer-${offerName}\"\n                 ${checked}>\n          <label class=\"event__offer-label\" for=\"event-offer-${offerName}-${offer.id}\">\n            <span class=\"event__offer-title\">${offer.title}</span>\n            +€ <span class=\"event__offer-price\">${offer.price}</span>\n          </label>\n        </div>\n      `;\n    })\n    .join('');\n\n  const destinations = destinationModel.getDestinations();\n  const eventTypes = ['taxi', 'bus', 'train', 'ship', 'drive', 'flight', 'check-in', 'sightseeing', 'restaurant'];\n\n  return `\n    <form class=\"event event--edit\" action=\"#\" method=\"post\">\n      <header class=\"event__header\">\n        <div class=\"event__type-wrapper\">\n          <label class=\"event__type event__type-btn\" for=\"event-type-toggle-1\">\n            <span class=\"visually-hidden\">Choose event type</span>\n            <img class=\"event__type-icon\" width=\"17\" height=\"17\" src=\"img/icons/${type || 'flight'}.png\" alt=\"Event type icon\">\n          </label>\n          <input class=\"event__type-toggle visually-hidden\" id=\"event-type-toggle-1\" type=\"checkbox\">\n          <div class=\"event__type-list\">\n            <fieldset class=\"event__type-group\">\n              <legend class=\"visually-hidden\">Event type</legend>\n              ${eventTypes\n    .map(\n      (eventType) => `\n                    <div class=\"event__type-item\">\n                      <input id=\"event-type-${eventType}-1\"\n                             class=\"event__type-input visually-hidden\"\n                             type=\"radio\"\n                             name=\"event-type\"\n                             value=\"${eventType}\"\n                             ${pointTypeIsChecked(eventType)}>\n                      <label class=\"event__type-label event__type-label--${eventType}\"\n                             for=\"event-type-${eventType}-1\">${eventType.charAt(0).toUpperCase() + eventType.slice(1)}</label>\n                    </div>\n                  `\n    )\n    .join('')}\n            </fieldset>\n          </div>\n        </div>\n\n        <div class=\"event__field-group event__field-group--destination\">\n          <label class=\"event__label event__type-output\" for=\"event-destination-1\">\n            ${type || 'Flight'}\n          </label>\n          <input class=\"event__input event__input--destination\"\n                 id=\"event-destination-1\"\n                 type=\"text\"\n                 name=\"event-destination\"\n                 value=\"${destinationName}\"\n                 list=\"destination-list-1\">\n          <datalist id=\"destination-list-1\">\n            ${destinations.map((dest) => `<option value=\"${dest.name}\"></option>`).join('')}\n          </datalist>\n        </div>\n\n        <div class=\"event__field-group event__field-group--time\">\n          <label class=\"visually-hidden\" for=\"event-start-time-1\">From</label>\n          <input class=\"event__input event__input--time\"\n                 id=\"event-start-time-1\"\n                 type=\"text\"\n                 name=\"event-start-time\"\n                 value=\"${startDate}\">\n          —\n          <label class=\"visually-hidden\" for=\"event-end-time-1\">To</label>\n          <input class=\"event__input event__input--time\"\n                 id=\"event-end-time-1\"\n                 type=\"text\"\n                 name=\"event-end-time\"\n                 value=\"${endDate}\">\n        </div>\n\n        <div class=\"event__field-group event__field-group--price\">\n          <label class=\"event__label\" for=\"event-price-1\">\n            <span class=\"visually-hidden\">Price</span>\n            €\n          </label>\n          <input class=\"event__input event__input--price\"\n                 id=\"event-price-1\"\n                 type=\"text\"\n                 name=\"event-price\"\n                 value=\"${basePrice || ''}\">\n        </div>\n\n        <button class=\"event__save-btn btn btn--blue\" type=\"submit\">Save</button>\n        <button class=\"event__reset-btn\" type=\"reset\">${event.id ? 'Delete' : 'Cancel'}</button>\n        ${event.id ? `\n          <button class=\"event__rollup-btn\" type=\"button\">\n            <span class=\"visually-hidden\">Open event</span>\n          </button>\n        ` : ''}\n      </header>\n      <section class=\"event__details\">\n        ${availableOffers.length ? `\n          <section class=\"event__section event__section--offers\">\n            <h3 class=\"event__section-title event__section-title--offers\">Offers</h3>\n            <div class=\"event__available-offers\">\n              ${offersTemplate}\n            </div>\n          </section>\n        ` : ''}\n        <section class=\"event__section event__section--destination\">\n          <h3 class=\"event__section-title event__section-title--destination\">Destination</h3>\n          <p class=\"event__destination-description\">${destinationDescription}</p>\n        </section>\n      </section>\n    </form>\n  `;\n}\n","import {createElement} from '../render.js';\n\nexport default class FiltersView {\n  getTemplate(){\n    return createFiltersTemplate();\n  }\n\n  getElement(){\n    if(!this.element){\n      this.element = createElement(this.getTemplate());\n    }\n    return this.element;\n  }\n\n  removeElement(){\n    this.element = null;\n  }\n}\n\nfunction createFiltersTemplate(){\n  return `<form class=\"trip-filters\" action=\"#\" method=\"get\">\n            <div class=\"trip-filters__filter\">\n              <input\n                id=\"filter-everything\"\n                class=\"trip-filters__filter-input visually-hidden\"\n                type=\"radio\"\n                name=\"trip-filter\"\n                value=\"everything\"\n              >\n              <label class=\"trip-filters__filter-label\" for=\"filter-everything\">Everything</label>\n            </div>\n\n            <div class=\"trip-filters__filter\">\n              <input\n                id=\"filter-future\"\n                class=\"trip-filters__filter-input visually-hidden\"\n                type=\"radio\"\n                name=\"trip-filter\"\n                value=\"future\"\n              >\n              <label class=\"trip-filters__filter-label\" for=\"filter-future\">Future</label>\n            </div>\n\n            <div class=\"trip-filters__filter\">\n              <input\n                id=\"filter-present\"\n                class=\"trip-filters__filter-input visually-hidden\"\n                type=\"radio\"\n                name=\"trip-filter\"\n                value=\"present\"\n              >\n              <label class=\"trip-filters__filter-label\" for=\"filter-present\">Present</label>\n            </div>\n\n            <div class=\"trip-filters__filter\">\n              <input\n                id=\"filter-past\"\n                class=\"trip-filters__filter-input visually-hidden\"\n                type=\"radio\"\n                name=\"trip-filter\"\n                value=\"past\"\n                checked\n              >\n              <label class=\"trip-filters__filter-label\" for=\"filter-past\">Past</label>\n            </div>\n\n            <button class=\"visually-hidden\" type=\"submit\">Accept filter</button>\n          </form>`;\n}\n","import { createElement } from '../render.js';\n\nexport default class RoutePointView {\n  constructor(event, destination, offers) {\n    this.event = event || {};\n    this.destination = destination || {};\n    this.offers = offers || [];\n  }\n\n  getTemplate() {\n    return createPointsTemplate(this.event, this.destination, this.offers);\n  }\n\n  getElement() {\n    if (!this.element) {\n      this.element = createElement(this.getTemplate());\n    }\n    return this.element;\n  }\n\n  removeElement() {\n    this.element = null;\n  }\n}\n\nfunction createPointsTemplate(event, destination, offers) {\n  const { basePrice = '', dateFrom = '', dateTo = '', type = 'flight', isFavorite = false, offers: selectedOfferIds = [] } = event;\n  const { name: destinationName = '' } = destination;\n\n  // Форматирование даты и времени (предполагаем, что dateFrom и dateTo в формате ISO или 'D/MM/YY HH:mm')\n  const startDate = new Date(dateFrom);\n  const endDate = new Date(dateTo);\n  const day = startDate.getUTCDate() || '';\n  const dayValue = dateFrom.split('T')[0] || dateFrom.split(' ')[0] || '';\n  const timeStart = dateFrom.split(' ')[1] || dateFrom.split('T')[1]?.slice(0, 5) || '';\n  const timeEnd = dateTo.split(' ')[1] || dateTo.split('T')[1]?.slice(0, 5) || '';\n\n  // Вычисление длительности (примерно)\n  const durationMs = endDate - startDate;\n  const hours = Math.floor(durationMs / (1000 * 60 * 60));\n  const minutes = Math.floor((durationMs % (1000 * 60 * 60)) / (1000 * 60));\n  const duration = `${hours}h ${minutes.toString().padStart(2, '0')}m`;\n\n  // Формирование списка выбранных предложений\n  const selectedOffers = offers\n    .filter((offer) => selectedOfferIds.includes(offer.id))\n    .map((offer) => `\n      <li class=\"event__offer\">\n        <span class=\"event__offer-title\">${offer.title}</span>\n        +€&nbsp;<span class=\"event__offer-price\">${offer.price}</span>\n      </li>\n    `)\n    .join('');\n\n  // Класс для кнопки избранного\n  const favoriteClass = isFavorite ? 'event__favorite-btn--active' : '';\n\n  return `\n    <li class=\"trip-events__item\">\n      <div class=\"event\">\n        <time class=\"event__date\" datetime=\"${dayValue}\">${day}</time>\n        <div class=\"event__type\">\n          <img class=\"event__type-icon\" width=\"42\" height=\"42\" src=\"img/icons/${type}.png\" alt=\"Event type icon\">\n        </div>\n        <h3 class=\"event__title\">${type} ${destinationName}</h3>\n        <div class=\"event__schedule\">\n          <p class=\"event__time\">\n            <time class=\"event__start-time\" datetime=\"${dateFrom}\">${timeStart}</time>\n            —\n            <time class=\"event__end-time\" datetime=\"${dateTo}\">${timeEnd}</time>\n          </p>\n          <p class=\"event__duration\">${duration}</p>\n        </div>\n        <p class=\"event__price\">\n          € <span class=\"event__price-value\">${basePrice}</span>\n        </p>\n        <h4 class=\"visually-hidden\">Offers:</h4>\n        <ul class=\"event__selected-offers\">\n          ${selectedOffers}\n        </ul>\n        <button class=\"event__favorite-btn ${favoriteClass}\" type=\"button\">\n          <span class=\"visually-hidden\">Add to favorite</span>\n          <svg class=\"event__favorite-icon\" width=\"28\" height=\"28\" viewBox=\"0 0 28 28\">\n            <path d=\"M14 21l-8.22899 4.3262 1.57159-9.1631L.685209 9.67376 9.8855 8.33688 14 0l4.1145 8.33688 9.2003 1.33688-6.6574 6.48934 1.5716 9.1631L14 21z\"/>\n          </svg>\n        </button>\n      </div>\n    </li>\n  `;\n}\n","import { createElement } from '../render.js';\n\nexport default class RoutePointListView {\n  getTemplate() {\n    return createPointListTemplate();\n  }\n\n  getElement() {\n    if (!this.element) {\n      this.element = createElement(this.getTemplate());\n    }\n\n    return this.element;\n  }\n\n  removeElement() {\n    this.element = null;\n  }\n}\n\nfunction createPointListTemplate() {\n  return '<ul class=\"trip-events__list\"></ul>';\n}\n","import {createElement} from '../render.js';\n\nexport default class SortingView {\n  getTemplate(){\n    return createSortTemplate();\n  }\n\n  getElement(){\n    if(!this.element){\n      this.element = createElement(this.getTemplate());\n    }\n    return this.element;\n  }\n\n  removeElement(){\n    this.element = null;\n  }\n}\n\nfunction createSortTemplate(){\n  return `\n  <form class=\"trip-events__trip-sort trip-sort\" action=\"#\" method=\"get\">\n    <div class=\"trip-sort__item trip-sort__item--day\">\n      <input\n        id=\"sort-day\"\n        class=\"trip-sort__input visually-hidden\"\n        type=\"radio\"\n        name=\"trip-sort\"\n        value=\"sort-day\"\n      >\n      <label class=\"trip-sort__btn\" for=\"sort-day\">Day</label>\n    </div>\n\n    <div class=\"trip-sort__item trip-sort__item--event\">\n      <input\n        id=\"sort-event\"\n        class=\"trip-sort__input visually-hidden\"\n        type=\"radio\"\n        name=\"trip-sort\"\n        value=\"sort-event\"\n        disabled\n      >\n      <label class=\"trip-sort__btn\" for=\"sort-event\">Event</label>\n    </div>\n\n    <div class=\"trip-sort__item trip-sort__item--time\">\n      <input\n        id=\"sort-time\"\n        class=\"trip-sort__input visually-hidden\"\n        type=\"radio\"\n        name=\"trip-sort\"\n        value=\"sort-time\"\n      >\n      <label class=\"trip-sort__btn\" for=\"sort-time\">Time</label>\n    </div>\n\n    <div class=\"trip-sort__item trip-sort__item--price\">\n      <input\n        id=\"sort-price\"\n        class=\"trip-sort__input visually-hidden\"\n        type=\"radio\"\n        name=\"trip-sort\"\n        value=\"sort-price\"\n        checked\n      >\n      <label class=\"trip-sort__btn\" for=\"sort-price\">Price</label>\n    </div>\n\n    <div class=\"trip-sort__item trip-sort__item--offer\">\n      <input\n        id=\"sort-offer\"\n        class=\"trip-sort__input visually-hidden\"\n        type=\"radio\"\n        name=\"trip-sort\"\n        value=\"sort-offer\"\n        disabled\n      >\n      <label class=\"trip-sort__btn\" for=\"sort-offer\">Offers</label>\n    </div>\n  </form>\n`;\n}\n","import { getRandomInt } from '../utils';\nconst MIN_PRICE = 1000;\nconst MAX_PRICE = 5000;\n\nexport const EventsMock = [\n  {\n    id: 1,\n    basePrice: getRandomInt(MIN_PRICE,MAX_PRICE),\n    dateFrom: '2025-08-10T22:55:00.000Z',\n    dateTo: '2025-08-11T11:22:00.000Z',\n    destination: 1,\n    isFavorite: false,\n    offers: [1, 2, 3],\n    type: 'taxi'\n  },\n  {\n    id: 2,\n    basePrice: getRandomInt(MIN_PRICE,MAX_PRICE),\n    dateFrom: '2025-02-10T14:30:00.000Z',\n    dateTo: '2025-02-10T18:45:00.000Z',\n    destination: 2,\n    isFavorite: true,\n    offers: [4, 5, 6],\n    type: 'flight'\n  },\n  {\n    id: 3,\n    basePrice: getRandomInt(MIN_PRICE,MAX_PRICE),\n    dateFrom: '2025-03-15T09:00:00.000Z',\n    dateTo: '2025-03-15T10:15:00.000Z',\n    destination: 3,\n    isFavorite: false,\n    offers: [7, 8],\n    type: 'check-in'\n  },\n  {\n    id: 4,\n    basePrice: getRandomInt(MIN_PRICE,MAX_PRICE),\n    dateFrom: '2025-06-20T07:25:00.000Z',\n    dateTo: '2025-06-20T19:40:00.000Z',\n    destination: 4,\n    isFavorite: true,\n    offers: [],\n    type: 'sightseeing'\n  }\n];\n","export const destinationsMock = [\n  {\n    id: 1,\n    description: 'Chamonix, nestled in the heart of the French Alps, is a haven for adventurers. Known for its breathtaking views of Mont Blanc and world-class skiing, this charming town blends alpine tradition with vibrant energy.',\n    name: 'Chamonix',\n    pictures: [\n      {\n        src: 'https://picsum.photos/300/200?random=1',\n        description: 'Majestic Mont Blanc towering over Chamonix'\n      },\n      {\n        src: 'https://picsum.photos/300/200?random=2',\n        description: 'Cozy wooden chalets in the evening light'\n      }\n    ]\n  },\n  {\n    id: 2,\n    description: 'Geneva, a sophisticated Swiss city at the edge of Lake Geneva, is a blend of natural beauty and international flair. Surrounded by the Alps and Jura mountains, it’s a hub of diplomacy and home to serene waterfronts.',\n    name: 'Geneva',\n    pictures: [\n      {\n        src: 'https://picsum.photos/300/200?random=3',\n        description: 'The iconic Jet d’Eau fountain against the Geneva skyline'\n      },\n      {\n        src: 'https://picsum.photos/300/200?random=4',\n        description: 'Strolling along the peaceful shores of Lake Geneva'\n      }\n    ]\n  },\n  {\n    id: 3,\n    description: 'Amsterdam, the Venice of the North, is a city of winding canals, historic architecture, and a free-spirited vibe. From its colorful tulip markets to its famous museums, it’s a place where past and present dance together.',\n    name: 'Amsterdam',\n    pictures: [\n      {\n        src: 'https://picsum.photos/300/200?random=5',\n        description: 'A picturesque canal lined with traditional Dutch houses'\n      },\n      {\n        src: 'https://picsum.photos/300/200?random=6',\n        description: 'Bicycles parked near the vibrant Bloemenmarkt'\n      }\n    ]\n  },\n  {\n    id: 4,\n    description: 'Tokyo, a dazzling metropolis where ancient temples stand alongside futuristic skyscrapers. This city pulses with energy, offering a mix of serene gardens, neon-lit streets, and a culinary scene that’s second to none.',\n    name: 'Tokyo',\n    pictures: [\n      {\n        src: 'https://picsum.photos/300/200?random=7',\n        description: 'The bustling Shibuya Crossing at twilight'\n      },\n      {\n        src: 'https://picsum.photos/300/200?random=8',\n        description: 'Cherry blossoms framing a quiet Shinto shrine'\n      }\n    ]\n  },\n  {\n    id: 5,\n    description: 'Lisbon, Portugal’s sun-drenched capital, is a city of hilly streets and golden light. With its pastel-colored buildings, clattering trams, and soulful Fado music, it’s a place that captures the heart effortlessly.',\n    name: 'Lisbon',\n    pictures: [\n      {\n        src: 'https://picsum.photos/300/200?random=9',\n        description: 'The iconic Belém Tower glowing at sunset'\n      },\n      {\n        src: 'https://picsum.photos/300/200?random=10',\n        description: 'A yellow tram winding through Alfama’s narrow streets'\n      }\n    ]\n  }\n];\n","import { getRandomInt } from '../utils';\nconst MIN_PRICE = 10;\nconst MAX_PRICE = 100;\n\nexport const offersMock = [\n  {\n    type: 'taxi',\n    offers: [\n      {\n        id: 1,\n        title: 'Upgrade to a business class',\n        price: getRandomInt(MIN_PRICE, MAX_PRICE),\n      },\n      {\n        id: 2,\n        title: 'Add meal',\n        price: getRandomInt(MIN_PRICE, MAX_PRICE),\n      },\n      {\n        id: 3,\n        title: 'Choose a premium car',\n        price: getRandomInt(MIN_PRICE, MAX_PRICE),\n      }\n    ]\n  },\n  {\n    type: 'flight',\n    offers: [\n      {\n        id: 4,\n        title: 'Add extra luggage',\n        price: getRandomInt(MIN_PRICE, MAX_PRICE),\n      },\n      {\n        id: 5,\n        title: 'Priority boarding',\n        price: getRandomInt(MIN_PRICE, MAX_PRICE),\n      },\n      {\n        id: 6,\n        title: 'Select seat',\n        price: getRandomInt(MIN_PRICE, MAX_PRICE),\n      }\n    ]\n  },\n  {\n    type: 'check-in',\n    offers: [\n      {\n        id: 7,\n        title: 'Early check-in',\n        price: getRandomInt(MIN_PRICE, MAX_PRICE),\n      },\n      {\n        id: 8,\n        title: 'Late check-out',\n        price: getRandomInt(MIN_PRICE, MAX_PRICE),\n      }\n    ]\n  },\n  {\n    type: 'sightseeing',\n    offers: []\n  }\n];\n","import Presenter from './presenter/presenter';\nimport EventModel from './model/event-model';\nimport DestinationModel from './model/destination-model';\nimport OfferModel from './model/offers-model';\n\nconst eventModel = new EventModel();\nconst destinationModel = new DestinationModel();\nconst offerModel = new OfferModel();\n\nconst presenter = new Presenter(destinationModel,eventModel, offerModel);\n\npresenter.init();\n","import { EventsMock } from '../mock/event-mock.js';\n\nexport default class EventModel {\n  events = [... EventsMock];\n\n  getEvents() {\n    return this.events;\n  }\n}\n","import {destinationsMock} from '../mock/destination-mock.js';\n\nexport default class DestinationModel {\n  destinations = [... destinationsMock];\n\n  getDestinations() {\n    return this.destinations;\n  }\n\n  getDestinationById(id) {\n    return this.destinations.find((item) => item.id === id);\n  }\n}\n","import {offersMock} from '../mock/offers-mock.js';\n\nconst FIRST_ELEMENT = 0;\nexport default class OffersModel {\n  offers = [... offersMock];\n\n  getOffers() {\n    return this.offers;\n  }\n\n  getOffersById(type, id) {\n    const offers = this.offers.filter((offer) => offer.type === type)[FIRST_ELEMENT].offers.find((item) => item.id === id);\n    return offers ? offers.offers : [];\n  }\n\n  getOffersByType(type) {\n    const typeOffers = this.offers.find((offer) => offer.type === type);\n    return typeOffers ? typeOffers.offers : [];\n  }\n}\n","import { render } from '../render';\nimport EditFormView from '../view/edit-form-view';\nimport FiltersView from '../view/filters-view';\nimport RoutePointView from '../view/route-point-view';\nimport RoutePointListView from '../view/route-point-list-view';\nimport SortingView from '../view/sorting-view';\n\n\nexport default class Presenter {\n  RoutePointListComponent = new RoutePointListView();\n\n  constructor(DestinationModel, EventModel, OfferModel) {\n    this.tripEvents = document.querySelector('.trip-events');\n    this.tripControlFilters = document.querySelector('.trip-controls__filters');\n    this.destinationModel = DestinationModel;\n    this.eventModel = EventModel;\n    this.offerModel = OfferModel;\n  }\n\n  init() {\n    const events = this.eventModel.getEvents();\n\n    render(new FiltersView(), this.tripControlFilters);\n    render(new SortingView(), this.tripEvents);\n    render(this.RoutePointListComponent, this.tripEvents);\n    render(\n      new EditFormView(events[0], this.destinationModel, this.offerModel),\n      this.RoutePointListComponent.getElement()\n    );\n\n    for (let i = 0; i < Math.min(3, events.length); i++) {\n      const event = events[i];\n      const destination = this.destinationModel.getDestinationById(event.destination);\n      const eventOffers = this.offerModel.getOffersByType(event.type).filter((offer) =>\n        event.offers.includes(offer.id)\n      );\n      render(\n        new RoutePointView(event, destination, eventOffers),\n        this.RoutePointListComponent.getElement()\n      );\n    }\n  }\n}\n"],"names":["createElement","template","newElement","document","innerHTML","firstElementChild","render","component","container","place","insertAdjacentElement","getElement","getRandomInt","min","max","Math","floor","random","formatDate","isoDate","date","Date","getUTCDate","getUTCMonth","toString","padStart","getUTCFullYear","slice","getUTCHours","getUTCMinutes","EditFormView","constructor","event","destinationModel","offerModel","this","getTemplate","basePrice","dateFrom","dateTo","destination","type","offers","selectedOfferIds","destinationData","getDestinationById","startDate","endDate","destinationName","name","destinationDescription","description","availableOffers","getOffersByType","offersTemplate","map","offer","checked","includes","id","offerName","title","toLowerCase","split","join","price","destinations","getDestinations","eventType","pointType","charAt","toUpperCase","dest","length","createFormTemplate","element","removeElement","FiltersView","RoutePointView","isFavorite","day","dayValue","timeStart","timeEnd","durationMs","filter","createPointsTemplate","RoutePointListView","SortingView","MIN_PRICE","MAX_PRICE","EventsMock","destinationsMock","pictures","src","offersMock","eventModel","events","getEvents","find","item","getOffers","getOffersById","typeOffers","RoutePointListComponent","DestinationModel","EventModel","OfferModel","tripEvents","querySelector","tripControlFilters","init","i","eventOffers"],"sourceRoot":""}